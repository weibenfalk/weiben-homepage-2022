---
import Header from "../components/Header/Header.astro";
import Footer from "../components/Footer/Footer.astro";

const { frontmatter } = Astro.props;

export interface Props {
	title: string;
}

const { title } = Astro.props;
---

<script is:inline>
	const theme = (() => {
		if (typeof localStorage !== "undefined" && localStorage.getItem("theme")) {
			return localStorage.getItem("theme");
		}
		if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
			return "dark";
		}
		return "light";
	})();

	if (theme === "light") {
		document.documentElement.classList.remove("dark");
	} else {
		document.documentElement.classList.add("dark");
	}
	window.localStorage.setItem("theme", theme);
</script>

<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width" />
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<meta name="generator" content={Astro.generator} />
<title>{title}</title>

<Header />
{
	frontmatter ? (
		<main class="main-page">
			<slot />
		</main>
	) : (
		<slot />
	)
}
<Footer />

<style is:global>
	* {
		margin: 0;
		padding: 0;
		box-sizing: border-box;
	}

	@font-face {
		font-family: "Maven Pro";
		src: url("/fonts/MavenPro-Regular.ttf") format("truetype");
		font-weight: 400;
		font-style: normal;
		font-display: swap;
	}

	@font-face {
		font-family: "Maven Pro";
		src: url("/fonts/MavenPro-SemiBold.ttf") format("truetype");
		font-weight: 600;
		font-style: normal;
		font-display: swap;
	}

	@font-face {
		font-family: "Maven Pro";
		src: url("/fonts/MavenPro-Black.ttf") format("truetype");
		font-weight: 800;
		font-style: normal;
		font-display: swap;
	}

	@font-face {
		font-family: "Reenie Beanie";
		src: url("/fonts/ReenieBeanie-Regular.ttf") format("truetype");
		font-weight: 400;
		font-style: normal;
		font-display: swap;
	}

	:root {
		--font-size-base: clamp(1rem, 0.34vw + 0.91rem, 1.19rem);
		--font-size-lg: clamp(1.2rem, 0.7vw + 1.2rem, 1.5rem);
		--font-size-xl: clamp(2.44rem, 2.38vw + 1.85rem, 3.75rem);

		--color-base: #71478e;
		--color-secondary-light: #999;
		--color-secondary-dark: #323232;

		--color-text-light: #414141;
		--color-text-dark: #fffbef;
		--color-bg-light: #fffbef;
		--color-bg-dark: #1a1a1a;
		--color-border: hsl(17, 24%, 90%);

		--color-gradient: linear-gradient(45deg, #d9388f, #fdad00);
	}

	h1 {
		margin-bottom: 20px;
	}

	h2 {
		margin-bottom: 15px;
	}

	h3 {
		margin-bottom: 10px;
	}

	.quote-char {
		font-size: 80px;
		line-height: 50px;
		background: var(--color-gradient);
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
	}

	.main-page {
		width: 100%;
		max-width: 800px;
		margin: 0 auto;
		padding: 40px 20px;
	}

	html {
		font-family: "Maven Pro", sans-serif;
		font-size: var(--font-size-base);
		color: var(--color-text-light);
		background-color: var(--color-bg-light);
	}

	p {
		line-height: 1.5rem;
	}

	a {
		text-decoration: none;
	}

	html li a,
	html .hamburger {
		color: var(--color-text-light);
	}

	html.dark li a,
	html.dark .hamburger {
		color: var(--color-text-dark);
	}

	html.dark {
		background-color: var(--color-bg-dark);
		color: var(--color-text-dark);
	}

	html.dark h1 {
		color: var(--color-text-dark);
	}

	html.dark h2 {
		color: var(--color-text-dark);
	}

	html.dark h3 {
		color: var(--color-text-dark);
	}

	body {
		margin: 0;
		display: flex;
		flex-direction: column;
		min-height: 100vh;
	}

	main {
		flex: 1;
		padding-top: 40px;
	}

	html.dark .img-logo {
		z-index: 2;
	}

	html footer {
		background-color: var(--color-secondary-light);
	}

	html.dark footer {
		background-color: var(--color-secondary-dark);
	}
</style>
